# Q16.Kafka与RabbitMQ区别

1. **设计目标和使用场景**：

   Kafka 设计用于处理大数据流并支持高吞吐量的实时处理场景。它有一个简单的**发布-订阅模型**，并且优化了对大数据流的处理。Kafka 通常用于大数据实时处理、日志集中处理、网站活动跟踪等场景。

   RabbitMQ 的设计更侧重于提供丰富的消息队列特性，如**延迟队列、优先级队列、消息确认**等。它支持多种消息队列标准，如AMQP，支持多种交换类型如，direct，fanout，topic，headers等。RabbitMQ 可以用于多种复杂的消息处理场景，如**任务分发、异步处理、应用内的消息传递**等。

2. **消息模型**：

   Kafka 采用了一种持久化日志模型，消息被追加到分区中，并顺序地存储在磁盘上。消费者通过维护一个**偏移量**来读取数据，这允许消费者按照自己的速度来消费数据。

   RabbitMQ 使用了更传统的消息队列模型，消息被推送到队列中，然后由消费者从队列中取出。RabbitMQ 支持更复杂的消息分发策略，如**轮询分发、公平分发**等。

3. **持久化**：

   Kafka 的所有消息默认都会**持久化到磁盘**，无论消息是否已经被消费。这使得 Kafka 可以处理大量的数据，并且能够容忍系统故障。

   RabbitMQ 支持持久化，但是需要**显式地设置**。如果消息、队列或者交换器没有被设置为持久化，那么在 RabbitMQ 服务器重启后，数据会丢失。

4. **性能**：

   Kafka 由于其简单的日志模型和磁盘存储结构，能够支持**高吞吐量**的消息处理，特别适合大数据场景。

   RabbitMQ 的性能通常受到其丰富特性的影响，例如，持久化、消息确认等特性可能会降低性能。然而，对于许多应用，RabbitMQ 的性能已经足够。