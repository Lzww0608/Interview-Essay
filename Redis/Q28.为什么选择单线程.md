# Q28.为什么选择单线程

Redis选择单线程模型主要是基于以下考虑：

1. **简单性和清晰性**: 单线程模型会使Redis的设计和实现变得简单、清晰。无需担心各种复杂的同步、数据一致性和线程通信问题。这也大大提高了Redis的稳定性。
2. **避免上下文切换开销**: 多线程和多进程程序需要频繁地进行系统调用，例如创建线程、进程间通信、上下文切换等。这些操作相对于Redis的内存操作来说，CPU时间开销是巨大的。
3. **CPU瓶颈不是Redis的性能瓶颈**: Redis是基于内存的数据库，所以主要的性能瓶颈在于网络I/O和磁盘I/O，而不在CPU。通过使用单线程模型，Redis可以充分利用单核CPU的性能，而避免了线程切换和锁竞争的开销。
4. **高效的事件驱动模型**: Redis使用高效的事件驱动模型，即使是单线程也能处理高并发的网络连接和请求。

到目前为止，虽然Redis是单线程模型，但是其性能一直很高，可以支持每秒处理上百万次的读或者写操作。

当然，从某种角度来说，Redis并非完全的单线程。比如在进行RDB、AOF持久化以及主从复制的时候，Redis就会创建新的子进程。但这种方式不会引发复杂的数据的同步和一致性问题。