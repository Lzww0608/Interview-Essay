# Q32.Redis事务

Redis事务是一种将多个命令请求打包，一次性、按顺序地执行所有命令的机制，主要包括以下几个命令：

1. `MULTI`：标记一个事务块的开始。
2. `EXEC`：执行所有事务块内的命令。
3. `DISCARD`：取消事务，放弃执行事务块内的所有命令。
4. `WATCH`：监视键，如果键的值在事务执行之前发生改变，事务队列中的命令就不会执行。

值得注意的是，Redis的事务与传统意义上的数据库事务略有不同。在传统数据库中，事务有所谓的ACID属性——原子性、一致性、隔离性、持久性。但在Redis中，只支持命令的原子性，即事务队列中的命令会作为一个原子连续、中断地执行，执行过程中不会被其他命令插入。但是，如果事务队列中的某个命令执行失败，Redis并不会回滚其他已经执行的命令。

关于应用场景，比如我们在电商网站中，用户下单购买商品，这个过程可能包括修改商品库存、记录用户订单、更新用户账户余额等操作，我们可以放入一个Redis事务中，确保这些操作要么全部成功，要么全部不执行，保证数据的一致性。