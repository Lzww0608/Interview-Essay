# Q50.统计一天内访问10次的IP

要分析Nginx日志并统计2019年3月14日一天内访问最多的10个IP，可以使用类似之前提到的命令行工具组合（`awk`、`sort`、`uniq`、`head`）来处理日志文件。由于这里无法直接执行shell命令，我将提供一个命令示例，你可以在自己的环境中运行它来得到结果。

#### 命令示例

以下命令假设你的Nginx日志文件位于`/var/log/nginx/access.log`，并使用默认的日志格式：

```sh
awk '4 ~ /14\/Mar\/2019/' /var/log/nginx/access.log | awk '{print1}' | sort | uniq -c | sort -nr | head -n 10
```

#### 命令解释

1. 第一个`awk`命令过滤出2019年3月14日的日志记录。`$4`代表日志行中的日期和时间字段，`/14\/Mar\/2019/`用于匹配指定日期的记录。
2. 第二个`awk`命令提取并打印出这些记录中的IP地址（假设IP地址是每行的第一个字段）。
3. `sort`命令将IP地址排序，以便`uniq -c`可以计数。
4. `uniq -c`根据IP地址进行计数，统计每个IP的出现次数。
5. 第二个`sort -nr`根据访问次数进行降序排序。
6. `head -n 10`只保留前10个结果。

#### 注意

- 如果你的日志格式不是默认的或者日志文件的位置不同，请根据实际情况调整命令。
- 对于非常大的日志文件，这个命令可能需要一些时间来执行。考虑使用工具如`parallel`来加速处理，或者先用`grep`缩小处理范围。