# Q5.工作原理

RPC（远程过程调用）是一种通过网络从远程计算机程序上请求服务，而不需要了解底层网络技术的协议。RPC协议假定某些传输协议的存在，如TCP或UDP，为通信程序之间携带信息数据。在OSI网络通信模型中，RPC跨越了传输层和应用层。

RPC使得开发包括网络分布式多程序在内的应用程序更加容易。RPC采用客户机、服务器模式。请求程序就是一个客户机，而服务提供程序就是一个服务器。

RPC的工作原理如下：

1. 客户端（Client）调用客户端存根（Client Stub），同时把参数传给客户端存根；
2. 客户端存根将参数打包编码，并通过系统调用发送到服务器；
3. 客户端本地系统发送消息到服务器；
4. 服务器系统将信息发送到服务器存根（Server Stub）；
5. 服务端存根解析信息，也就是解码；
6. 服务端存根调用真正的服务端程序（Server）；
7. 服务端（Server）处理后，通过同样的方式，把结果返回给客户端（Client）。