# Q16. Goroutine和协程的区别

### Goroutine 和协程的区别

1. **调度方式**：
   - **Goroutine**：由 Go 运行时自动调度，采用抢占式调度。
   - **协程**：通常是非抢占式的，由用户代码控制，切换点需要显式指定。
2. **并行性**：
   - **Goroutine**：可以并行运行，Go 运行时会将 Goroutine 映射到多个操作系统线程上，充分利用多核 CPU。
   - **协程**：通常运行在单线程中，不能真正实现并行，只是并发。
3. **启动和管理**：
   - **Goroutine**：启动简单，只需在函数或方法前加上 `go` 关键字，Goroutine 的生命周期和调度完全由 Go 运行时管理。
   - **协程**：需要显式管理切换，程序代码负责暂停和恢复协程。
4. **内存模型**：
   - **Goroutine**：可以共享内存，但 Go 提倡使用通道（Channel）进行通信，避免直接共享数据。
   - **协程**：一般通过共享内存或传递参数来交换数据，可能需要同步机制来避免数据竞争。
5. **性能和资源使用**：
   - **Goroutine**：非常轻量级，每个 Goroutine 初始栈很小，可以动态扩展，Go 运行时的调度器非常高效。
   - **协程**：也轻量，但需要开发者管理其切换逻辑，资源使用视具体实现而定。