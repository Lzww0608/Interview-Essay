# 46.如何退出bash而不终止docker

要退出一个正在运行的Docker容器中的bash而不终止容器，可以使用`Ctrl + P` 和 `Ctrl + Q`的组合键。这将把你从容器的终端中分离出来，但容器会继续在后台运行。

### 详细讲解与拓展

1. 退出容器的bash而不终止容器：

   - 当你进入容器并启动一个交互式的bash（例如通过`docker exec -it <container_id> bash`），容器会处于前台运行状态。如果你直接使用`exit`命令退出容器的bash，会终止容器的进程。如果你希望退出终端，但让容器继续运行，可以使用`Ctrl + P`和`Ctrl + Q`来分离容器。

   这个组合键的作用是：

   - `Ctrl + P`：按下后，表示进入“分离模式”。
   - `Ctrl + Q`：按下后，容器会从终端中“分离”出来，但容器仍会在后台运行。

   这种方法不会终止容器，而是让你从容器的终端会话中安全退出。

2. **分离与终止的区别**：

   - **分离（Detaching）**：分离容器会让容器保持运行，但你会从它的交互式终端中退出。使用`Ctrl + P + Q`组合键时，容器会继续运行，可以使用`docker ps`查看容器状态。
   - **终止（Exit）**：如果你直接输入`exit`命令，它会终止容器中的bash进程。如果容器没有其他正在运行的进程，容器本身也会停止。

3. 查看已分离的容器：

   - 如果你已经分离了容器，可以使用`docker ps`命令查看容器是否仍在运行。
   - 如果你希望重新连接到已分离的容器，可以使用`docker attach <container_id>`命令重新进入容器的终端。

4. 其他相关命令：

   - `docker exec -it <container_id> bash`：用来启动并进入容器的bash会话。
   - `docker attach <container_id>`：重新连接到已分离的容器。
   - `docker ps -a`：查看所有运行中和停止的容器。

**总结**：要退出一个镜像的bash而不终止容器，可以使用`Ctrl + P`和`Ctrl + Q`组合键进行分离。这使你能够退出交互式终端，但容器仍会继续在后台运行。