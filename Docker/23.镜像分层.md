# 23.镜像分层

Docker镜像的分层是指Docker镜像在构建过程中被组织成多个层。每一层都是一个只读的实例，并且只包含该层所做的更改。这种分层设计有几个优点：

1. 提高了效率：只有发生更改的层才会被重新构建，这使得镜像的构建更加快速。
2. 减少了空间占用：只有更改的层会被存储，这使得镜像占用的空间更少。
3. 简化了管理：层之间的依赖关系被明确地定义，这使得镜像的构建和部署更加可靠。

Docker使用UnionFS（联合文件系统）来实现镜像的分层。UnionFS是一种分层、轻量级并且高性能的文件系统，它支持对文件系统的修改作为一次提交来一层层的叠加，同时可以将不同目录挂载到同一个虚拟文件系统下。UnionFS是Docker镜像的基础。

在Docker镜像的构建过程中，每一层都是一个独立的镜像，并且可以与其他镜像共享基础层。这种分层的设计使得Docker镜像更加灵活和可复用，同时也简化了镜像的管理和部署。