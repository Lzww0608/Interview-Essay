# Q1. 调试shell脚本

1. **使用 `-x` 选项**：通过在运行脚本时使用`-x`选项，Bash 会在执行每一行命令之前打印该命令。这有助于查看脚本的执行流程和变量的值变化。

   例如，如果有一个名为 `script.sh` 的脚本，可以这样调用来启用调试模式：

   ```bash
   bash -x script.sh
   ```

2. **设置 `set` 命令**：在脚本内部，可以使用`set`命令来开启或关闭调试模式。`set -x`会打开调试模式，`set +x`

   会关闭调试模式。

   例如：

   ```bash
   # 开启调试模式
   set -x
   # 一些要被调试的命令
   echo "Debugging"
   # 关闭调试模式
   set +x
   ```

   

3. **使用 `trap` 命令**：`trap`命令可以在脚本执行时捕获信号，并执行指定的命令或函数。通过使用`trap`和`DEBUG`

   信号，可以在每个命令执行前执行特定的代码，帮助调试。

   例如，打印每个命令及其参数：

   ```bash
   trap 'echo "Executing: $BASH_COMMAND"' DEBUG
   ```

   

4. **逐步调试**：Bash 的`-v`选项可以打印出脚本中的每一行命令，就像它们从脚本中读取出来一样，而不是执行后的结果。这有助于了解脚本的流程。

   通过命令行使用 `-v` 选项：

   ```bash
   bash -v script.sh
   ```